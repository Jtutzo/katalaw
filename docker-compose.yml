version: "3"
services:
  backend:
    build: "."
    image: "katalaw/maven"
    container_name: "katalaw_backend"
    networks:
      - default
    ports:
      - 8080:8080
      - 5005:5005
    command: ['java', '-jar', '-Dspring.profiles.active=docker', 'katalaw-0.0.1-SNAPSHOT.jar']

  db:
    image: "postgres:10"
    container_name: "katalaw_bd"
    networks:
      - default
    environment:
      POSTGRES_PASSWORD: katalaw
      POSTGRES_USER: katalaw
      POSTGRES_DB: katalaw
    ports:
      - 5432:5432
networks:
  default:
